<meta charset="UTF-8">
<!DOCTYPE html>
<html>
<head>
    <title>Library Seat Manager</title>
    <link rel="stylesheet" href="dashboard.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://kit.fontawesome.com/70513bf846.js" crossorigin="anonymous"></script>
</head>
<body>
<div id="headerContainer"></div>
<!--<div class="dashboard">-->
<!--    <div class="card">-->
<!--        <h3>Total Collection</h3>-->
<!--        <p id="totalCollection">‚Çπ0</p>-->
<!--    </div>-->

<!--    <div class="card">-->
<!--        <h3>Total Seats</h3>-->
<!--        <p id="totalSeats">0</p>-->
<!--    </div>-->

<!--    <div class="card">-->
<!--        <h3>Seats Filled</h3>-->
<!--        <p id="filledSeats">0</p>-->
<!--    </div>-->

<!--    <div class="card">-->
<!--        <h3>Seats Vacant</h3>-->
<!--        <p id="vacantSeats">0</p>-->
<!--    </div>-->
<!--</div>-->


<!--new dashboard-->
<!--<div class="dashboard-cards">-->

<!--    <div class="stat-card">-->
<!--        <div class="stat-left">-->
<!--            <p class="stat-title">Total Collection</p>-->
<!--            <h2 id="totalCollection">‚Çπ0</h2>-->
<!--            <span class="stat-sub">Overall earnings</span>-->
<!--        </div>-->
<!--        <div class="stat-icon blue">‚Çπ</div>-->
<!--    </div>-->

<!--    <div class="stat-card">-->
<!--        <div class="stat-left">-->
<!--            <p class="stat-title">Total Seats</p>-->
<!--            <h2 id="totalSeats">0</h2>-->
<!--            <span class="stat-sub">Full capacity</span>-->
<!--        </div>-->
<!--        <div class="stat-icon purple">ü™ë</div>-->
<!--    </div>-->

<!--    <div class="stat-card">-->
<!--        <div class="stat-left">-->
<!--            <p class="stat-title">Seats Filled</p>-->
<!--            <h2 id="filledSeats">0</h2>-->
<!--            <span class="stat-sub orange">Occupied</span>-->
<!--        </div>-->
<!--        <div class="stat-icon orange">üë§</div>-->
<!--    </div>-->

<!--    <div class="stat-card">-->
<!--        <div class="stat-left">-->
<!--            <p class="stat-title">Seats Vacant</p>-->
<!--            <h2 id="vacantSeats">0</h2>-->
<!--            <span class="stat-sub green">Available</span>-->
<!--        </div>-->
<!--        <div class="stat-icon green">‚úî</div>-->
<!--    </div>-->

<!--</div>-->

<!--new dashboard-cards-->
<div class="dashboard-cards">

    <div class="stat-card clickable" onclick="scrollToSeats()">
        <div class="stat-left">
            <p class="stat-title">Total Seats</p>
            <h2 id="totalSeats">0</h2>
            <span class="stat-sub">Library capacity</span>
        </div>
        <div class="stat-icon purple">ü™ë</div>
    </div>

    <div class="stat-card clickable" onclick="openActiveFullDayStudents()">
        <div class="stat-left">
            <p class="stat-title">Seats Filled</p>
            <h2 id="filledSeats">0</h2>
            <span class="stat-sub orange">Full day active</span>
        </div>
        <div class="stat-icon orange">üë§</div>
    </div>

    <div class="stat-card clickable" onclick="scrollToSeats()">
        <div class="stat-left">
            <p class="stat-title">Seats Vacant</p>
            <h2 id="vacantSeats">0</h2>
            <span class="stat-sub green">Available</span>
        </div>
        <div class="stat-icon green">‚úî</div>
    </div>

    <!-- üî• NEW HALF DAY CARD -->
    <div class="stat-card clickable" onclick="openHalfDayForm()">
        <div class="stat-left">
            <p class="stat-title">Half Day Students</p>
            <h2 id="halfDayCount">0</h2>
            <span class="stat-sub blue">Morning / Evening</span>
        </div>
        <div class="stat-icon blue">‚è±</div>
    </div>

</div>






<!--<h2>Subscriptions Expiring Soon</h2>-->

<!--<table class="expiryTable">-->
<!--    <thead>-->
<!--    <tr>-->
<!--        <th>Seat</th>-->
<!--        <th>Name</th>-->
<!--        <th>Phone</th>-->
<!--        <th>Expiry Date</th>-->
<!--        <th>Amount</th>-->
<!--        <th>Actions</th>-->
<!--    </tr>-->
<!--    </thead>-->
<!--    <tbody id="expiryBody">-->
<!--    &lt;!&ndash; rows added by JS &ndash;&gt;-->
<!--    </tbody>-->
<!--</table>-->
<div class="dashboard-main">

    <!--new seat layout-->
    <div class="seat-card">
        <div class="seat-card-header">
            <div>
                <h3>Seat Layout</h3>
                <p class="subtitle">Fill here your fav seat...</p>
            </div>

            <div class="seat-legend">
                <span><i class="fa-solid fa-circle booked"></i> Booked</span>
                <span><i class="fa-solid fa-circle vacant"></i> Vacant</span>
            </div>
        </div>

        <div class="seat-container" id="seatContainer"></div>
    </div>
    <!--new table creation-->
    <div class="alert-card">
        <div class="alert-header">
            <h3>Subscription Alerts</h3>
            <p class="subtitle">Pending actions for students</p>
        </div>

        <div id="expiryBody" class="alert-list"></div>

        <div class="view-all" onclick="toggleViewAll()">View All Alerts</div>
    </div>

</div>


<!--old one Seat layout -->
<!--<h2 class="seat-title">Seat Layout</h2>-->
<!--<div class="seat-container" id="seatContainer">-->
<!--    &lt;!&ndash; Seats will be generated by JS &ndash;&gt;-->
<!--</div>-->





<!--Booking model-->
<div id="bookingModal" class="modal">
    <div class="modal-content">
        <h3>Book Seat <span id="seatNo"></span></h3>

        <input type="text" id="name" placeholder="Student Name">
        <input type="text" id="phone" placeholder="Phone Number">
        <input type="number" id="amount" value="700">

        <button onclick="confirmBooking()">Confirm Booking</button>
        <button class="close" onclick="closeModal()">Cancel</button>
    </div>
</div>


<!--Vacate model-->
<div id="studentModal" class="modal">
    <div class="modal-content">
        <h3>Seat <span id="detailSeatNo"></span> ‚Äì Student Details</h3>

        <label>Name</label>
        <input type="text" id="detailName">

        <label>Phone</label>
        <input type="text" id="detailPhone">

        <label>Joined On</label>
        <input type="date" id="detailJoinDate" disabled>

        <label>Expiry Date</label>
        <input type="date" id="detailExpireDate">

        <label>Amount Paid</label>
        <input type="number" id="detailAmount">

        <label>Seat Number</label>
        <select id="detailSeatNumber"></select>

        <button onclick="updateStudent()">Update</button>
        <button onclick="vacateSeat()">Vacate</button>
        <button class="close" onclick="closeStudentModal()">Cancel</button>
    </div>
</div>





<!-- MOBILE FOOTER NAV -->
<div class="mobile-footer">
    <div class="nav-item active" onclick="goTo('/dashboard.html')">
        <i class="fa-solid fa-house"></i>
        <span>Home</span>
    </div>

    <div class="nav-item" onclick="goTo('/billing.html')">
        <i class="fa-solid fa-wallet"></i>
        <span>Billing</span>
    </div>

    <div class="nav-item" onclick="goTo('/students.html')">
        <i class="fa-solid fa-user-graduate"></i>
        <span>Students</span>
    </div>

    <div class="nav-item" onclick="goTo('/profile.html')">
        <i class="fa-solid fa-user"></i>
        <span>Profile</span>
    </div>
</div>





<script src="dashboard.js"></script>
<script>
    fetch("/newheader.html")
      .then(res => res.text())
      .then(html => document.getElementById("headerContainer").innerHTML = html);
</script>
<script src="/newheader.js"></script>
</body>
</html>



