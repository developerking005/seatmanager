<meta charset="UTF-8">
<!DOCTYPE html>
<html>
<head>
    <title>Library Seat Manager</title>
    <link rel="stylesheet" href="dashboard.css">
</head>
<body>
<div id="headerContainer"></div>
<div class="dashboard">
    <div class="card">
        <h3>Total Collection</h3>
        <p id="totalCollection">₹0</p>
    </div>

    <div class="card">
        <h3>Total Seats</h3>
        <p id="totalSeats">0</p>
    </div>

    <div class="card">
        <h3>Seats Filled</h3>
        <p id="filledSeats">0</p>
    </div>

    <div class="card">
        <h3>Seats Vacant</h3>
        <p id="vacantSeats">0</p>
    </div>
</div>

<h2 class="seat-title">Seat Layout</h2>
<div class="seat-container" id="seatContainer">
    <!-- Seats will be generated by JS -->
</div>

<!--<h3>Subscriptions Expiring Soon</h3>-->

<!--<table id="expiryTable">-->
<!--    <thead>-->
<!--    <tr>-->
<!--        <th>Seat</th>-->
<!--        <th>Name</th>-->
<!--        <th>Phone</th>-->
<!--        <th>Expiry Date</th>-->
<!--        <th>Amount</th>-->
<!--        <th>Actions</th>-->
<!--    </tr>-->
<!--    </thead>-->
<!--    <tbody id="expiryBody"></tbody>-->
<!--</table>-->

<h2>Subscriptions Expiring Soon</h2>

<table class="expiryTable">
    <thead>
    <tr>
        <th>Seat</th>
        <th>Name</th>
        <th>Phone</th>
        <th>Expiry Date</th>
        <th>Amount</th>
        <th>Actions</th>
    </tr>
    </thead>
    <tbody id="expiryBody">
    <!-- rows added by JS -->
    </tbody>
</table>

<!--Booking model-->
<div id="bookingModal" class="modal">
    <div class="modal-content">
        <h3>Book Seat <span id="seatNo"></span></h3>

        <input type="text" id="name" placeholder="Student Name">
        <input type="text" id="phone" placeholder="Phone Number">
        <input type="number" id="amount" value="700">

        <button onclick="confirmBooking()">Confirm Booking</button>
        <button class="close" onclick="closeModal()">Cancel</button>
    </div>
</div>


<!--Vacate model-->
<div id="studentModal" class="modal">
    <div class="modal-content">
        <h3>Seat <span id="detailSeatNo"></span> – Student Details</h3>

        <label>Name</label>
        <input type="text" id="detailName">

        <label>Phone</label>
        <input type="text" id="detailPhone">

        <label>Joined On</label>
        <input type="date" id="detailJoinDate" disabled>

        <label>Expiry Date</label>
        <input type="date" id="detailExpireDate">

        <label>Amount Paid</label>
        <input type="number" id="detailAmount">

        <label>Seat Number</label>
        <select id="detailSeatNumber"></select>

        <button onclick="updateStudent()">Update</button>
        <button onclick="vacateSeat()">Vacate</button>
        <button class="close" onclick="closeStudentModal()">Cancel</button>
    </div>
</div>

<script src="dashboard.js"></script>
<script>
    fetch("/header.html")
      .then(res => res.text())
      .then(html => document.getElementById("headerContainer").innerHTML = html);
</script>
<script src="/header.js"></script>
</body>
</html>



