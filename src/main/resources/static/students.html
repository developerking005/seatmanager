<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Students</title>
    <!--    <link rel="stylesheet" href="css/dashboard.css">-->
    <link rel="stylesheet" href="css/students.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://kit.fontawesome.com/70513bf846.js" crossorigin="anonymous"></script>
</head>
<body>

<div id="headerContainer"></div>

<!--new student section UI-->
<div class="students-page">

    <!-- LEFT PANEL -->
    <div class="students-left">

        <div class="students-header">
            <div>
                <h2>Student Records & KYC</h2>
                <p class="subtitle">
                    Manage memberships, identity verification, and seat allocations
                </p>
            </div>

            <button class="primary-btn">
                + Add New Student
            </button>
        </div>

        <!-- FILTER TABS -->
        <div class="student-tabs">
            <button class="tab active">All Students</button>
            <button class="tab">Active</button>
            <button class="tab danger">Expired</button>
        </div>

        <!-- STUDENT TABLE -->
        <div class="student-table-wrapper">
            <table class="student-table">
                <thead>
                <tr>
                    <th>Seat</th>
                    <th>Student</th>
                    <th>Phone</th>
                    <th>EndDate</th>
                    <th>Payment</th>
                    <th>Action</th>
                </tr>
                </thead>
                <tbody id="studentsTable"></tbody>
            </table>
        </div>

    </div>

    <!-- RIGHT PANEL -->
    <div class="students-right">
        <div class="profile-card hidden" id="studentProfile">

            <div class="profile-avatar">
                <img src="images/user.png">
                <span class="online-dot"></span>
            </div>

            <h3 id="pName">—</h3>
            <p class="profile-sub" id="pPhone">—</p>

            <div class="profile-actions">
                <button class="btn-light">View Profile</button>
                <button class="btn-icon">✉</button>
            </div>

            <hr>

            <div class="profile-details">
                <div><span>Seat</span><strong id="pSeat">—</strong></div>
                <div><span>Joined</span><strong id="pJoined">—</strong></div>
                <div>
                    <span>Plan Expires</span>
                    <strong id="pExpire" class="danger">—</strong>
                </div>
            </div>

        </div>
        <div>
            <!-- History -->
            <div class="history">
                <h4>Seat Change History</h4>

                <ul class="timeline">
                    <li>
                        <span class="dot active"></span>
                        <div>
                            <b>Jan 05, 2026</b>
                            <p>Seat changed from 2 → 4</p>
                        </div>
                    </li>

                    <li>
                        <span class="dot"></span>
                        <div>
                            <b>Dec 01, 2025</b>
                            <p>Plan renewed</p>
                        </div>
                    </li>
                </ul>
            </div>

        </div>
    </div>


    <div id="editModal" class="modal hidden">
        <div class="modal-content">
            <h3>Edit Student</h3>

            <input type="hidden" id="editId">

            <label>Name</label>
            <input id="editName">

            <label>Phone</label>
            <input id="editPhone">

            <label>Seat Number</label>
            <input id="editSeat" type="number">

            <label>End Date</label>
            <input id="editEndDate" type="date">

            <div class="modal-actions">
                <button onclick="saveStudent()">Save</button>
                <button onclick="closeModal()">Cancel</button>
            </div>
        </div>
    </div>


    <!-- MOBILE FOOTER NAV -->
    <div class="mobile-footer">
        <div class="nav-item" onclick="goTo('/dashboard.html')">
            <i class="fa-solid fa-house"></i>
            <span>Home</span>
        </div>

        <div class="nav-item" onclick="goTo('/billing.html')">
            <i class="fa-solid fa-wallet"></i>
            <span>Billing</span>
        </div>

        <div class="nav-item active" onclick="goTo('/students.html')">
            <i class="fa-solid fa-user-graduate"></i>
            <span>Students</span>
        </div>

        <div class="nav-item" onclick="goTo('/profile.html')">
            <i class="fa-solid fa-user"></i>
            <span>Profile</span>
        </div>
    </div>


    <script>
        fetch("/newheader.html")
          .then(res => res.text())
          .then(html => document.getElementById("headerContainer").innerHTML = html);
    </script>

    <script src="js/newheader.js"></script>
    <script src="js/students.js"></script>
</body>
</html>